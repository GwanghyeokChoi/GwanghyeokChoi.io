---
title: JWT
date: "2022-05-11T22:40:32.169Z"
description: Json Web Token 약자로 모바일 혹은 웹의 사용자 인증을 위해 사용하는 암호화 토큰
---

# JWT란 무엇인가 ?

Json Web Token 약자로 모바일이나 웹의 사용자 인증을 위해 사용하는 암호화 토큰이다.

JWT 정보를 request에 담아 사용자용 정보 열람, 수정 등 개인적인 작업 등을 수행할 수 있게 한다.

# JWT에 담기는 정보

JWT는 세 파트로 나뉘어지고, 각 파트는 .(점)으로 구분하여 aaaaa.bbbbb.ccccc 이런식으로 표현한다.

JWT는 URL에서 파라미터로 사용할 수 있도록 URL_Safe 한 Base64url 인코딩을 사용한다.

## Header

토큰의 타입과 해시 암호화 알고리즘으로 구성되어 있다.

## Payload

토큰에 담을 정보가 담겨있다. 여기에 담은 정보의 한’조각’을 클레임(claim)이라고 부르고, 이는 name/value의 한쌍으로 이루어져 있다. 클레임의 종류는 등록된(registered)클레임, 공개(public)클레임, 비공개(private)클레임이 존재한다.

## Signature

서명은 [헤더 base64 + 페이로드 base64 + SECRTE_KEY] 를 사용하여 JWT 백엔드에서 발행된다.

각 요청시 서명이 확인되며, 헤더 또는 페이로드의 정보가 클라이언트에 의해 변경된 경우 서명이 무효된다.

# JWT 장점

- 무상태 확장성이 존재한다. 기존 서버에 세션을 저장하는 방식에서 서버 여러대를 사용하여 요청을 분산하였다면 어떤 유저가 로그인했을 때 그 유저는 처음 로그인한 서버에만 요청을 내보내도록 설정해야한다. 하지만 토큰을 사용하고 해당 토큰 값만 알고 있다면 어떤 서버로 요청이 들어가도 상관이 없다. 즉, 세션 스토리지가 필요없다.
- 보안성 쿠키를 사용하지 않아도 되므로 쿠키를 사용함으로써 발생하는 취약점이 사라진다.
- 여러 플랫폼 및 도메인 어플리케이션 규모가 커지면 여러 디바이스를 호환 시키고 더 많은 종류의 서비스를 제공한다. 토큰을 사용한다면 그 어떤 디바이스에서도 그 어떤 도메인에서도 토큰만 유효하다면 정상적으로 처리 된다.

# JWT 단점

- 길이 cliam에 넣는 데이터가 많아질 수록 JWT토큰이 길어진다. API 호출 시 매 호출마다 토큰 데이터를 전송해야 하는 특성상 길이가 긴 만큼 네트워크 대역폭 낭비가 심해질 수가 있다.
- 보안 JWT는 기본적으로 Payload에 대한 정보를 암호화 하지 않는다. 단순히 BASE64로 인코딩만 하기 때문에 중간에 패킷을 가로채거나 기타 방법으로 토큰을 취했다면 디코딩을 통해 데이터를 확인할 수 있다. 그래서 JWE(Json Web Encryption)를 통해 암호화 하거나 중요데이터는 Payload에 넣지 않아야 한다.